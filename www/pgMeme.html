<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEME</title>
</head>

<body>
    <input type="text" id="title">

    <button id="btnPesquisa" onclick=pesquisaMeme()>Pesquisar</button> </br></br>

    <img src="" id="imgMeme">


    <script>
        function pesquisaMeme() {
            debugger
            document.getElementById("imgMeme").src = "";

            if (document.getElementById('title').value != "") {
                var txtPesquisa = document.getElementById('title').value;
                var req = new XMLHttpRequest();
                req.open("get", "https://api.humorapi.com/memes/search?keywords=" + txtPesquisa + "&api-key=66e2aeb543a3405fae9bc89e4cb9f225", false);
                req.send();
                var result = req.responseText;
                var resultArray = JSON.parse(result);

                if (resultArray == null) {
                    document.getElementById("imgMeme").src = "";
                    aler("Nenhum meme foi encontrado");
                }
                else{
                    document.getElementById("imgMeme").src = resultArray.memes[0].url;
                    document.getElementById("title").value = ""
                }

            } else
                alert("Preencha o campo de pesquisa");
        }

    </script>
</body>

</html>